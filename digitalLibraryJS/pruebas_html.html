<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.css">

</head>

<body>
    <div class="shop-items">
        
    </div>

    <script> 
        class Book {
    constructor(title, autor, cover, year, summary, price) {
                this.title = title;
                this.autor = autor;
                this.cover = cover;
                this.year = year;
                this.summary = summary;
        this.price = price;
    }}

function addRecommedations(title, autor, cover, year, summary, price) {

    let shop_items = document.querySelector('.shop-items');
    let book_item = document.createElement('div');
    book_item.className = 'row';

    let shop_item_row = `<div class='shop-image'>
                            <img class="item-image" src=${cover}>
                        </div>

                        <div class="shop-item-details">

                                <span class="title">
                                    <span class="item-title">
                                        ${title}
                                    </span>
                                    <span class="item-autor">
                                        ${autor}      
                                    </span>
                                    <span class="item-year">
                                        ${year}
                                    </span>
                                </span>
                            
                                <span class="shop-item-summary">
                                    ${summary}
                                </span>
                                <span class="item-price">
                                    <span>
                                        ${price}
                                    </span>
                                    <button class="btn btn-primary shop-item-button" type="button">Agregar al carrito</button>
                                </span> 
                        </div>`

    book_item.innerHTML = shop_item_row
    shop_items.append(book_item)
}

fetch("./recommendations.json")
    .then(
        results => results.json()
        )
    .then(
        data => data.toRead.forEach(dbbook => {
        let new_book = new Book(dbbook.title, dbbook.autor, dbbook.cover, dbbook.year, dbbook.summary, dbbook.price);
        addRecommedations(new_book.title, new_book.autor, new_book.cover, new_book.year, new_book.summary, new_book.price)
    }))    
    </script>
</body>

</html>